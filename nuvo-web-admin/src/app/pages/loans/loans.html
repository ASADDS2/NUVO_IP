<div class="p-6">
    <h2 class="text-2xl font-bold text-nuvo-dark mb-6">Solicitudes de Préstamos</h2>

    <div *ngIf="isLoading" class="text-center py-10 text-gray-500">Cargando solicitudes...</div>

    <div *ngIf="!isLoading" class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
        <table class="w-full text-left">
            <thead class="bg-gray-50 border-b border-gray-100">
                <tr>
                    <th class="p-4 text-gray-600">ID Cliente</th>
                    <th class="p-4 text-gray-600">Monto</th>
                    <th class="p-4 text-gray-600">Cuotas</th>
                    <th class="p-4 text-gray-600">Interés</th>
                    <th class="p-4 text-gray-600">Estado</th>
                    <th class="p-4 text-gray-600">Acción</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-gray-100">
                <tr *ngFor="let loan of loans" class="hover:bg-gray-50">
                    <td class="p-4 font-medium">#{{ loan.userId }}</td>
                    <td class="p-4 font-bold text-nuvo-dark">{{ loan.amount | currency }}</td>
                    <td class="p-4">{{ loan.termMonths }} meses</td>
                    <td class="p-4">{{ loan.interestRate * 100 }}%</td>
                    <td class="p-4">
                        <span [ngClass]="{
                            'bg-yellow-100 text-yellow-800': loan.status === 'PENDING',
                            'bg-green-100 text-green-800': loan.status === 'APPROVED',
                            'bg-blue-100 text-blue-800': loan.status === 'PAID'
                        }" class="px-2 py-1 rounded-full text-xs font-bold">
                            {{ loan.status }}
                        </span>
                    </td>
                    <td class="p-4">
                        <button *ngIf="loan.status === 'PENDING'" 
                                (click)="onApprove(loan.id)"
                                class="bg-nuvo-green text-white px-3 py-1 rounded hover:bg-green-600 text-sm font-bold shadow-sm">
                            ✅ Aprobar
                        </button>
                        <span *ngIf="loan.status !== 'PENDING'" class="text-gray-400 text-sm">-</span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>